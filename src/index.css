@tailwind base;
@tailwind components;
@tailwind utilities;

/* Animaciones para modal de comentarios */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(20px);
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Solo animar el contenido del modal, no el overlay */
.modal-content {
  animation: slideUp 0.25s ease-out forwards;
  /* Forzar aceleración GPU y mejorar rendering durante animación */
  will-change: transform;
  transform: translateZ(0);
  /* Prevenir píxeles blancos en esquinas durante animación */
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.modal-content.closing {
  animation: slideDown 0.25s ease-out forwards;
}

.modal-overlay {
  background-color: rgba(17, 24, 39, 0);
  transition: background-color 0.25s ease-out;
}

.modal-overlay.active {
  background-color: rgba(17, 24, 39, 0.75);
}

/* Rating stars hover effect */
.star-rating input[type="radio"]:checked ~ label {
  color: #f59e0b;
}

.star-rating label:hover,
.star-rating label:hover ~ label {
  color: #fbbf24;
}

/* Asegurar que el header del modal cubra completamente las esquinas */
.modal-content > div:first-child {
  /* Forzar que el header cubra completamente las esquinas superiores */
  position: relative;
  z-index: 1;
  /* Eliminar cualquier gap entre el borde y el contenido */
  margin: 0;
  transform: translateZ(0);
}

/* Pseudo-elemento sólido para cubrir gaps en esquinas durante animación */
.modal-content > div:first-child::before {
  content: '';
  position: absolute;
  top: -1px;
  left: -1px;
  right: -1px;
  bottom: 0;
  background: #1e293b; /* slate-800 sólido */
  border-top-left-radius: 1rem;
  border-top-right-radius: 1rem;
  z-index: -1;
  pointer-events: none;
}

/* Prevenir desplazamiento cuando se oculta scrollbar */
body.modal-open {
  overflow: hidden;
}

/* Compensar scrollbar SOLO en elementos fixed del lado DERECHO (no sidebar) */
body.modal-open [class*="right-0"][class*="fixed"] {
  padding-right: calc(2rem + var(--scrollbar-width, 0px)) !important;
}